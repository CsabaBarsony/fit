(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/** @jsx React.DOM */

var Router = window.ReactRouter;
var DefaultRoute = Router.DefaultRoute;
var NotFoundRoute = Router.NotFoundRoute;
var Link = Router.Link;
var Route = Router.Route;
var RouteHandler = Router.RouteHandler;
var Home = require("./components/home");
var Exercises = require("./components/exercises");
var SetWorkout= require("./components/set_workout");
var Workout = require("./components/workout");
var NotFound = require("./components/not_found");
var auth = require("./helpers/auth");

var App = React.createClass({displayName: "App",
	getInitialState: function(){
		return { auth: "authorizing" };
	},
	componentDidMount: function(){
		var that = this;
		auth.authorize(function(result){
			if(result) that.setState({ auth: "authorized" });
			else window.location.href = auth.loginPage;
		});
	},
	logout: function(){
		this.setState({ auth: "loggingOut" });
		auth.logout(function(){
			window.location.href = auth.loginPage;
		});
	},
	render: function () {
		if(this.state.auth === "authorizing") return React.createElement("h1", null, "Authorizing...");
		else if(this.state.auth === "loggingOut") return React.createElement("h1", null, "Logging out...")
		else if(this.state.auth === "authorized"){
			return (
				React.createElement("div", null, 
					React.createElement("header", null, 
						React.createElement("ul", null, 
							React.createElement("li", null, React.createElement(Link, {to: "home"}, "Home")), 
							React.createElement("li", null, React.createElement(Link, {to: "exercises"}, "Exercises")), 
							React.createElement("li", null, React.createElement(Link, {to: "set-workout"}, "Set Workout")), 
							React.createElement("li", null, 
								React.createElement("a", {href: "#", onClick: this.logout}, "Logout")
							)
						), 
						React.createElement("div", null, 
							React.createElement("p", null, "user: ", auth.getUsername())
						)
					), 
					React.createElement(RouteHandler, null)
				)
			);
		}
	}
});

var routes = (
	React.createElement(Route, {name: "home", path: "/", handler: App}, 
		React.createElement(Route, {name: "exercises", handler: Exercises}), 
		React.createElement(Route, {name: "set-workout", handler: SetWorkout}), 
		React.createElement(Route, {name: "workout", handler: Workout}), 
		React.createElement(DefaultRoute, {handler: Home}), 
		React.createElement(NotFoundRoute, {handler: NotFound})
	)
);

Router.run(routes, function(Handler) {
	React.render(React.createElement(Handler, null), document.body);
});


},{"./components/exercises":3,"./components/home":4,"./components/not_found":5,"./components/set_workout":6,"./components/workout":8,"./helpers/auth":10}],2:[function(require,module,exports){
/** @jsx React.DOM */

var ExerciseForWorkout = React.createClass({displayName: "ExerciseForWorkout",
	remove: function(){
		this.props.remove(this.props.exerciseKey);
	},
	render: function(){
		var exercise = this.props.exercise;
		return (
			React.createElement("div", null, 
				React.createElement("span", null, exercise.name, " ", exercise.weight, " kg"), React.createElement("button", {onClick: this.remove}, "remove")
			)
		);
	}
});

module.exports = ExerciseForWorkout;

},{}],3:[function(require,module,exports){
/** @jsx React.DOM */

var api = require("../helpers/api");

var Exercises = React.createClass({displayName: "Exercises",
	getInitialState: function(){
		return {
			state: "loading_exercises",
			exercises: []
		}
	},
	componentDidMount: function(){
		api.get("/exercises", function(exercises){
			console.log(exercises);
		});
	},
	render: function(){
		return (
			React.createElement("h2", null, "Exercises")
		);
	}
});

module.exports = Exercises;

},{"../helpers/api":9}],4:[function(require,module,exports){
/** @jsx React.DOM */

var api = require("../helpers/api");

var Home = React.createClass({displayName: "Home",
	testGet: function(){
		api.get("/secret", function(result){
			console.log("get working", result);
		});
	},
	testPost: function(){
		api.post("/secret", { testData: "majom" }, function(result){
			console.log("post working", result);
		})
	},
	render: function(){
		return (
			React.createElement("div", null, 
				React.createElement("h2", null, "Home"), 
				React.createElement("button", {type: "text", onClick: this.testGet}, "Get"), 
				React.createElement("button", {type: "text", onClick: this.testPost}, "Post")
			)
		);
	}
});

module.exports = Home;


},{"../helpers/api":9}],5:[function(require,module,exports){
/** @jsx React.DOM */

var NotFound = React.createClass({displayName: "NotFound",
	render: function(){
		return (
			React.createElement("div", null, "Page is not found")
		);
	}
});

module.exports = NotFound;

},{}],6:[function(require,module,exports){
/** @jsx React.DOM */

var api = require("../helpers/api");
var ExerciseForWorkout = require("./exerciseForWorkout");
var Navigation = window.ReactRouter.Navigation;

var SetWorkout = React.createClass({displayName: "SetWorkout",
	mixins: [Navigation],
	getInitialState: function(){
		return {
			exercises: null,
			selectedExercise: null,
			exerciseForWorkoutList: []
		};
	},
	componentDidMount: function(){
		localStorage.setItem("workout", "");
		var that = this;
		api.get("/exercises", function(exercises){
			that.setState({
				exercises: exercises,
				selectedExercise: exercises[0]
			});
		});
	},
	addExercise: function(){
		var weight = prompt("Weight? (kg)", 0);
		var sets = prompt("Number of sets?", 1);
		var selectedExerciseList = [];
		for(var i = 0; i < sets; i++){
			selectedExerciseList.push({
				name: this.state.selectedExercise,
				weight: weight
			});
		}
		var newState = React.addons.update(this.state, {
			exerciseForWorkoutList: {
				$push: selectedExerciseList
			}
		});
		this.setState(newState);
	},
	changeExercise: function(event){
		this.setState({
			exercises: this.state.exercises,
			selectedExercise: event.target.value
		});
	},
	removeExerciseFromWorkout: function(key){
		console.log("key", key);
		var newState = React.addons.update(this.state, {
			exerciseForWorkoutList: {
				$splice: [[key, 1]]
			}
		});
		this.setState(newState);
	},
	workoutReady: function(){
		localStorage.setItem("workout", JSON.stringify({ exercises: this.state.exerciseForWorkoutList }));
		this.transitionTo("workout");
	},
	render: function(){
		if(this.state.exercises){
			var exerciseOptions = [],
				key = 0;
			_.each(this.state.exercises, function(exercise){
				var option = (
					React.createElement("option", {key: Math.random(), value: exercise}, exercise)
				);
				exerciseOptions.push(option);
			});
			var that = this;
			var exerciseForWorkoutList = [];
			_.each(this.state.exerciseForWorkoutList, function(exercise){
				// The sequence of the 'key' and 'exerciseKey' properties is important because of the incrementation
				var element = (
					React.createElement(ExerciseForWorkout, {key: key, exerciseKey: key++, exercise: exercise, remove: that.removeExerciseFromWorkout})
				);
				exerciseForWorkoutList.push(element);
			});
			var workoutReadyButton = null;
			if(this.state.exerciseForWorkoutList.length > 0){
				workoutReadyButton = (
					React.createElement("button", {onClick: this.workoutReady}, "Ready")
				);
			}
			return (
				React.createElement("div", null, 
					React.createElement("h2", null, "Set Workout"), 
					workoutReadyButton, 
					React.createElement("div", null, this.state.selectedExercise), 
					React.createElement("select", {onChange: this.changeExercise}, 
						exerciseOptions
					), 
					React.createElement("button", {onClick: this.addExercise}, "Add exercise"), 
					exerciseForWorkoutList
				)
			);
		}
		else{
			return (
				React.createElement("h2", null, "Loading...")
			);
		}
	}
});

module.exports = SetWorkout;

},{"../helpers/api":9,"./exerciseForWorkout":2}],7:[function(require,module,exports){
/** @jsx React.DOM */

var Stopwatch = React.createClass({displayName: "Stopwatch",
	getInitialState: function(){
		return {
			ts: 0
		};
	},
	start: function(restart){
		if(restart) this.state.ts = 0;
		var that = this;
		this.interval = setInterval(function(){
			that.setState({
				phase: "run",
				ts: that.state.ts + 100
			});
		}, 100);
		this.paused = false;
	},
	pause: function(){
		clearInterval(this.interval);
		this.paused = true;
		this.props.getTs(this.state.ts);
	},
	interval: 0,
	paused: false,
	render: function(){
		if(this.props.phase === "exercise" && (this.state.ts === 0 || this.paused)){
			this.start(this.paused);
		}
		if(this.props.phase === "pause"){
			this.pause();
		}
		return (
			React.createElement("div", null, 
				React.createElement("p", null, this.state.ts)
			)
		);
	}
});

module.exports = Stopwatch;

},{}],8:[function(require,module,exports){
/** @jsx React.DOM */


var Stopwatch = require("./stopwatch");

var Workout = React.createClass({displayName: "Workout",
	getInitialState: function(){
		return {
			workout: JSON.parse(localStorage.getItem("workout")),
			exercise: 0,
			phase: "init"
		};
	},
	controlButtonClick: function(){
		if(this.state.phase === "init"){
			this.setState({
				workout: this.state.workout,
				exercise: this.state.exercise,
				phase: "exercise"
			});
		}
		else if(this.state.phase === "exercise"){
			this.setState({
				workout: this.state.workout,
				exercise: this.state.exercise,
				phase: "pause"
			});
		}
		else if(this.state.phase === "pause"){
			if(this.state.workout.exercises.length - 1 > this.state.exercise){
				this.setState({
					workout: this.state.workout,
					exercise: this.state.exercise + 1,
					phase: "exercise"
				});
			}
			else{
				this.setState({
					workout: this.state.workout,
					exercise: this.state.exercise,
					phase: "finish"
				});
			}
		}
		else if(this.state.phase === "finish"){
			if(this.state.workout.exercises.length !== this.tsList.length) throw new Error("baj van");
			var result = [];
			for(var i = 0, l = this.state.workout.exercises.length; i < l; i++){
				var exercise = this.state.workout.exercises[i];
				exercise.ts = this.tsList[i];
				result.push(exercise);
			}
			console.log(result);
		}
	},
	getStopwatchTs: function(ts){
		this.tsList.push(ts);
		console.log(this.tsList);
	},
	getControlButtonText: function(){
		var phase = this.state.phase;
		if(phase === "init") return "Start";
		else if(phase === "exercise") return "Ready";
		else if(phase === "pause") return "Next";
		else if(phase === "finish") return "Finish";
	},
	tsList: [],
	render: function(){
		var actualExercise = (
			React.createElement("strong", null, "actual: ", this.state.workout.exercises[this.state.exercise].name, " ", this.state.workout.exercises[this.state.exercise].weight, "kg")
		);
		var nextExercise;
		if(this.state.exercise !== this.state.workout.exercises.length - 1){
			nextExercise = (
				React.createElement("strong", null, "next: ", this.state.workout.exercises[this.state.exercise + 1].name, " ", this.state.workout.exercises[this.state.exercise].weight, "kg")
			);
		}
		return (
			React.createElement("div", null, 
				React.createElement("h2", null, "Workout"), 
				actualExercise, React.createElement("br", null), 
				nextExercise, React.createElement("br", null), 
				React.createElement("button", {onClick: this.controlButtonClick}, this.getControlButtonText()), 
				React.createElement(Stopwatch, {phase: this.state.phase, getTs: this.getStopwatchTs})
			)
		);
	}
});

module.exports = Workout;

},{"./stopwatch":7}],9:[function(require,module,exports){
var auth = require("./auth");

module.exports = {
	log: function(text){
		console.log(text);
	},
	get: function(url, success){
		$.ajax({
			url: url,
			type: 'GET',
			headers: {
				"x-auth-token": auth.getToken(),
				"x-auth-username": auth.getUsername()
			},
			success: function(result) {
				success(result);
			}.bind(this),
			error: function(xhr, status, err) {
				console.log(status);
				if(xhr.status >= 400) window.location.href = auth.loginPage;
			}.bind(this)
		});
	},
	post: function(url, data, success){
		$.ajax({
			url: url,
			type: 'POST',
			data: data,
			headers: {
				"x-auth-token": auth.getToken(),
				"x-auth-username": auth.getUsername()
			},
			success: function(result) {
				success(result);
			}.bind(this),
			error: function(xhr, status, err) {
				console.log(status);
				if(xhr.status >= 400) window.location.href = auth.loginPage;
			}.bind(this)
		});
	}
};

},{"./auth":10}],10:[function(require,module,exports){
var auth = {
	loginPage: "/login.html",
	logout: function(callback){
		$.ajax({
			url: "/logout",
			type: 'POST',
			data: {
				username: this.getUsername()
			},
			success: function(result) {
				delete localStorage.token;
				delete localStorage.username;
				callback();
			}.bind(this),
			error: function(xhr, status, err) {
				console.log("error while loggint out");
				delete localStorage.token;
				delete localStorage.username;
				callback();
			}.bind(this)
		});
	},
	authorize: function(callback){
		if(!this.getToken()) {
			callback(false);
			return;
		}

		$.ajax({
			url: "/authorize",
			type: 'GET',
			headers: {
				"x-auth-token": this.getToken(),
				"x-auth-username": this.getUsername()
			},
			success: function(result) {
				callback(true);
			}.bind(this),
			error: function(xhr, status, err) {
				callback(false);
			}.bind(this)
		});
	},
	getToken: function(){
		return localStorage.token;
	},
	getUsername: function(){
		return localStorage.username;
	},
	loggedIn: function(){
		return this.getToken();
	},
	onChange: function(){}
};

module.exports = auth;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwiQzpcXGRldlxcd2ViXFxmaXRcXHNyY1xcc2NyaXB0c1xcbWFpbi5qcyIsIkM6XFxkZXZcXHdlYlxcZml0XFxzcmNcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGV4ZXJjaXNlRm9yV29ya291dC5qcyIsIkM6XFxkZXZcXHdlYlxcZml0XFxzcmNcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGV4ZXJjaXNlcy5qcyIsIkM6XFxkZXZcXHdlYlxcZml0XFxzcmNcXHNjcmlwdHNcXGNvbXBvbmVudHNcXGhvbWUuanMiLCJDOlxcZGV2XFx3ZWJcXGZpdFxcc3JjXFxzY3JpcHRzXFxjb21wb25lbnRzXFxub3RfZm91bmQuanMiLCJDOlxcZGV2XFx3ZWJcXGZpdFxcc3JjXFxzY3JpcHRzXFxjb21wb25lbnRzXFxzZXRfd29ya291dC5qcyIsIkM6XFxkZXZcXHdlYlxcZml0XFxzcmNcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHN0b3B3YXRjaC5qcyIsIkM6XFxkZXZcXHdlYlxcZml0XFxzcmNcXHNjcmlwdHNcXGNvbXBvbmVudHNcXHdvcmtvdXQuanMiLCJDOlxcZGV2XFx3ZWJcXGZpdFxcc3JjXFxzY3JpcHRzXFxoZWxwZXJzXFxhcGkuanMiLCJDOlxcZGV2XFx3ZWJcXGZpdFxcc3JjXFxzY3JpcHRzXFxoZWxwZXJzXFxhdXRoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEscUJBQXFCOztBQUVyQixJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO0FBQ2hDLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUM7QUFDdkMsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztBQUN6QyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ3ZCLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxL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QUMsSUFBSSxDQUFDO0dBQ1osS0FBSyxFQUFFLFNBQVMsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUU7SUFDakMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztHQUNaLENBQUMsQ0FBQztFQUNIO0NBQ0QsUUFBUSxFQUFFLFVBQVU7RUFDbkIsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDO0VBQzFCO0NBQ0QsV0FBVyxFQUFFLFVBQVU7RUFDdEIsT0FBTyxZQUFZLENBQUMsUUFBUSxDQUFDO0VBQzdCO0NBQ0QsUUFBUSxFQUFFLFVBQVU7RUFDbkIsT0FBTyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7RUFDdkI7Q0FDRCxRQUFRLEVBQUUsVUFBVSxFQUFFO0FBQ3ZCLENBQUMsQ0FBQzs7QUFFRixNQUFNLENBQUMsT0FBTyxHQUFHLElBQUkiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXHJcblxyXG52YXIgUm91dGVyID0gd2luZG93LlJlYWN0Um91dGVyO1xyXG52YXIgRGVmYXVsdFJvdXRlID0gUm91dGVyLkRlZmF1bHRSb3V0ZTtcclxudmFyIE5vdEZvdW5kUm91dGUgPSBSb3V0ZXIuTm90Rm91bmRSb3V0ZTtcclxudmFyIExpbmsgPSBSb3V0ZXIuTGluaztcclxudmFyIFJvdXRlID0gUm91dGVyLlJvdXRlO1xyXG52YXIgUm91dGVIYW5kbGVyID0gUm91dGVyLlJvdXRlSGFuZGxlcjtcclxudmFyIEhvbWUgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2hvbWVcIik7XHJcbnZhciBFeGVyY2lzZXMgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL2V4ZXJjaXNlc1wiKTtcclxudmFyIFNldFdvcmtvdXQ9IHJlcXVpcmUoXCIuL2NvbXBvbmVudHMvc2V0X3dvcmtvdXRcIik7XHJcbnZhciBXb3Jrb3V0ID0gcmVxdWlyZShcIi4vY29tcG9uZW50cy93b3Jrb3V0XCIpO1xyXG52YXIgTm90Rm91bmQgPSByZXF1aXJlKFwiLi9jb21wb25lbnRzL25vdF9mb3VuZFwiKTtcclxudmFyIGF1dGggPSByZXF1aXJlKFwiLi9oZWxwZXJzL2F1dGhcIik7XHJcblxyXG52YXIgQXBwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiB7IGF1dGg6IFwiYXV0aG9yaXppbmdcIiB9O1xyXG5cdH0sXHJcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0XHRhdXRoLmF1dGhvcml6ZShmdW5jdGlvbihyZXN1bHQpe1xyXG5cdFx0XHRpZihyZXN1bHQpIHRoYXQuc2V0U3RhdGUoeyBhdXRoOiBcImF1dGhvcml6ZWRcIiB9KTtcclxuXHRcdFx0ZWxzZSB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGF1dGgubG9naW5QYWdlO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRsb2dvdXQ6IGZ1bmN0aW9uKCl7XHJcblx0XHR0aGlzLnNldFN0YXRlKHsgYXV0aDogXCJsb2dnaW5nT3V0XCIgfSk7XHJcblx0XHRhdXRoLmxvZ291dChmdW5jdGlvbigpe1xyXG5cdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGF1dGgubG9naW5QYWdlO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRyZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmKHRoaXMuc3RhdGUuYXV0aCA9PT0gXCJhdXRob3JpemluZ1wiKSByZXR1cm4gPGgxPkF1dGhvcml6aW5nLi4uPC9oMT47XHJcblx0XHRlbHNlIGlmKHRoaXMuc3RhdGUuYXV0aCA9PT0gXCJsb2dnaW5nT3V0XCIpIHJldHVybiA8aDE+TG9nZ2luZyBvdXQuLi48L2gxPlxyXG5cdFx0ZWxzZSBpZih0aGlzLnN0YXRlLmF1dGggPT09IFwiYXV0aG9yaXplZFwiKXtcclxuXHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0PGhlYWRlcj5cclxuXHRcdFx0XHRcdFx0PHVsPlxyXG5cdFx0XHRcdFx0XHRcdDxsaT48TGluayB0bz1cImhvbWVcIj5Ib21lPC9MaW5rPjwvbGk+XHJcblx0XHRcdFx0XHRcdFx0PGxpPjxMaW5rIHRvPVwiZXhlcmNpc2VzXCI+RXhlcmNpc2VzPC9MaW5rPjwvbGk+XHJcblx0XHRcdFx0XHRcdFx0PGxpPjxMaW5rIHRvPVwic2V0LXdvcmtvdXRcIj5TZXQgV29ya291dDwvTGluaz48L2xpPlxyXG5cdFx0XHRcdFx0XHRcdDxsaT5cclxuXHRcdFx0XHRcdFx0XHRcdDxhIGhyZWY9XCIjXCIgb25DbGljaz17dGhpcy5sb2dvdXR9PkxvZ291dDwvYT5cclxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxyXG5cdFx0XHRcdFx0XHQ8L3VsPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxwPnVzZXI6IHthdXRoLmdldFVzZXJuYW1lKCl9PC9wPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvaGVhZGVyPlxyXG5cdFx0XHRcdFx0PFJvdXRlSGFuZGxlci8+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG59KTtcclxuXHJcbnZhciByb3V0ZXMgPSAoXHJcblx0PFJvdXRlIG5hbWU9XCJob21lXCIgcGF0aD1cIi9cIiBoYW5kbGVyPXtBcHB9PlxyXG5cdFx0PFJvdXRlIG5hbWU9XCJleGVyY2lzZXNcIiBoYW5kbGVyPXtFeGVyY2lzZXN9Lz5cclxuXHRcdDxSb3V0ZSBuYW1lPVwic2V0LXdvcmtvdXRcIiBoYW5kbGVyPXtTZXRXb3Jrb3V0fS8+XHJcblx0XHQ8Um91dGUgbmFtZT1cIndvcmtvdXRcIiBoYW5kbGVyPXtXb3Jrb3V0fS8+XHJcblx0XHQ8RGVmYXVsdFJvdXRlIGhhbmRsZXI9e0hvbWV9Lz5cclxuXHRcdDxOb3RGb3VuZFJvdXRlIGhhbmRsZXI9e05vdEZvdW5kfS8+XHJcblx0PC9Sb3V0ZT5cclxuKTtcclxuXHJcblJvdXRlci5ydW4ocm91dGVzLCBmdW5jdGlvbihIYW5kbGVyKSB7XHJcblx0UmVhY3QucmVuZGVyKDxIYW5kbGVyLz4sIGRvY3VtZW50LmJvZHkpO1xyXG59KTtcclxuIiwiLyoqIEBqc3ggUmVhY3QuRE9NICovXHJcblxyXG52YXIgRXhlcmNpc2VGb3JXb3Jrb3V0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG5cdHJlbW92ZTogZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMucHJvcHMucmVtb3ZlKHRoaXMucHJvcHMuZXhlcmNpc2VLZXkpO1xyXG5cdH0sXHJcblx0cmVuZGVyOiBmdW5jdGlvbigpe1xyXG5cdFx0dmFyIGV4ZXJjaXNlID0gdGhpcy5wcm9wcy5leGVyY2lzZTtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXY+XHJcblx0XHRcdFx0PHNwYW4+e2V4ZXJjaXNlLm5hbWV9IHtleGVyY2lzZS53ZWlnaHR9IGtnPC9zcGFuPjxidXR0b24gb25DbGljaz17dGhpcy5yZW1vdmV9PnJlbW92ZTwvYnV0dG9uPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRXhlcmNpc2VGb3JXb3Jrb3V0OyIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xyXG5cclxudmFyIGFwaSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2FwaVwiKTtcclxuXHJcbnZhciBFeGVyY2lzZXMgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpe1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c3RhdGU6IFwibG9hZGluZ19leGVyY2lzZXNcIixcclxuXHRcdFx0ZXhlcmNpc2VzOiBbXVxyXG5cdFx0fVxyXG5cdH0sXHJcblx0Y29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCl7XHJcblx0XHRhcGkuZ2V0KFwiL2V4ZXJjaXNlc1wiLCBmdW5jdGlvbihleGVyY2lzZXMpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhleGVyY2lzZXMpO1xyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCl7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8aDI+RXhlcmNpc2VzPC9oMj5cclxuXHRcdCk7XHJcblx0fVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRXhlcmNpc2VzOyIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xyXG5cclxudmFyIGFwaSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2FwaVwiKTtcclxuXHJcbnZhciBIb21lID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG5cdHRlc3RHZXQ6IGZ1bmN0aW9uKCl7XHJcblx0XHRhcGkuZ2V0KFwiL3NlY3JldFwiLCBmdW5jdGlvbihyZXN1bHQpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImdldCB3b3JraW5nXCIsIHJlc3VsdCk7XHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdHRlc3RQb3N0OiBmdW5jdGlvbigpe1xyXG5cdFx0YXBpLnBvc3QoXCIvc2VjcmV0XCIsIHsgdGVzdERhdGE6IFwibWFqb21cIiB9LCBmdW5jdGlvbihyZXN1bHQpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcInBvc3Qgd29ya2luZ1wiLCByZXN1bHQpO1xyXG5cdFx0fSlcclxuXHR9LFxyXG5cdHJlbmRlcjogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXY+XHJcblx0XHRcdFx0PGgyPkhvbWU8L2gyPlxyXG5cdFx0XHRcdDxidXR0b24gdHlwZT1cInRleHRcIiBvbkNsaWNrPXt0aGlzLnRlc3RHZXR9PkdldDwvYnV0dG9uPlxyXG5cdFx0XHRcdDxidXR0b24gdHlwZT1cInRleHRcIiBvbkNsaWNrPXt0aGlzLnRlc3RQb3N0fT5Qb3N0PC9idXR0b24+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0KTtcclxuXHR9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBIb21lO1xyXG4iLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cclxuXHJcbnZhciBOb3RGb3VuZCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCl7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2PlBhZ2UgaXMgbm90IGZvdW5kPC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE5vdEZvdW5kOyIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xyXG5cclxudmFyIGFwaSA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL2FwaVwiKTtcclxudmFyIEV4ZXJjaXNlRm9yV29ya291dCA9IHJlcXVpcmUoXCIuL2V4ZXJjaXNlRm9yV29ya291dFwiKTtcclxudmFyIE5hdmlnYXRpb24gPSB3aW5kb3cuUmVhY3RSb3V0ZXIuTmF2aWdhdGlvbjtcclxuXHJcbnZhciBTZXRXb3Jrb3V0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG5cdG1peGluczogW05hdmlnYXRpb25dLFxyXG5cdGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGV4ZXJjaXNlczogbnVsbCxcclxuXHRcdFx0c2VsZWN0ZWRFeGVyY2lzZTogbnVsbCxcclxuXHRcdFx0ZXhlcmNpc2VGb3JXb3Jrb3V0TGlzdDogW11cclxuXHRcdH07XHJcblx0fSxcclxuXHRjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid29ya291dFwiLCBcIlwiKTtcclxuXHRcdHZhciB0aGF0ID0gdGhpcztcclxuXHRcdGFwaS5nZXQoXCIvZXhlcmNpc2VzXCIsIGZ1bmN0aW9uKGV4ZXJjaXNlcyl7XHJcblx0XHRcdHRoYXQuc2V0U3RhdGUoe1xyXG5cdFx0XHRcdGV4ZXJjaXNlczogZXhlcmNpc2VzLFxyXG5cdFx0XHRcdHNlbGVjdGVkRXhlcmNpc2U6IGV4ZXJjaXNlc1swXVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0YWRkRXhlcmNpc2U6IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgd2VpZ2h0ID0gcHJvbXB0KFwiV2VpZ2h0PyAoa2cpXCIsIDApO1xyXG5cdFx0dmFyIHNldHMgPSBwcm9tcHQoXCJOdW1iZXIgb2Ygc2V0cz9cIiwgMSk7XHJcblx0XHR2YXIgc2VsZWN0ZWRFeGVyY2lzZUxpc3QgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzZXRzOyBpKyspe1xyXG5cdFx0XHRzZWxlY3RlZEV4ZXJjaXNlTGlzdC5wdXNoKHtcclxuXHRcdFx0XHRuYW1lOiB0aGlzLnN0YXRlLnNlbGVjdGVkRXhlcmNpc2UsXHJcblx0XHRcdFx0d2VpZ2h0OiB3ZWlnaHRcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHR2YXIgbmV3U3RhdGUgPSBSZWFjdC5hZGRvbnMudXBkYXRlKHRoaXMuc3RhdGUsIHtcclxuXHRcdFx0ZXhlcmNpc2VGb3JXb3Jrb3V0TGlzdDoge1xyXG5cdFx0XHRcdCRwdXNoOiBzZWxlY3RlZEV4ZXJjaXNlTGlzdFxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xyXG5cdH0sXHJcblx0Y2hhbmdlRXhlcmNpc2U6IGZ1bmN0aW9uKGV2ZW50KXtcclxuXHRcdHRoaXMuc2V0U3RhdGUoe1xyXG5cdFx0XHRleGVyY2lzZXM6IHRoaXMuc3RhdGUuZXhlcmNpc2VzLFxyXG5cdFx0XHRzZWxlY3RlZEV4ZXJjaXNlOiBldmVudC50YXJnZXQudmFsdWVcclxuXHRcdH0pO1xyXG5cdH0sXHJcblx0cmVtb3ZlRXhlcmNpc2VGcm9tV29ya291dDogZnVuY3Rpb24oa2V5KXtcclxuXHRcdGNvbnNvbGUubG9nKFwia2V5XCIsIGtleSk7XHJcblx0XHR2YXIgbmV3U3RhdGUgPSBSZWFjdC5hZGRvbnMudXBkYXRlKHRoaXMuc3RhdGUsIHtcclxuXHRcdFx0ZXhlcmNpc2VGb3JXb3Jrb3V0TGlzdDoge1xyXG5cdFx0XHRcdCRzcGxpY2U6IFtba2V5LCAxXV1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcclxuXHR9LFxyXG5cdHdvcmtvdXRSZWFkeTogZnVuY3Rpb24oKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid29ya291dFwiLCBKU09OLnN0cmluZ2lmeSh7IGV4ZXJjaXNlczogdGhpcy5zdGF0ZS5leGVyY2lzZUZvcldvcmtvdXRMaXN0IH0pKTtcclxuXHRcdHRoaXMudHJhbnNpdGlvblRvKFwid29ya291dFwiKTtcclxuXHR9LFxyXG5cdHJlbmRlcjogZnVuY3Rpb24oKXtcclxuXHRcdGlmKHRoaXMuc3RhdGUuZXhlcmNpc2VzKXtcclxuXHRcdFx0dmFyIGV4ZXJjaXNlT3B0aW9ucyA9IFtdLFxyXG5cdFx0XHRcdGtleSA9IDA7XHJcblx0XHRcdF8uZWFjaCh0aGlzLnN0YXRlLmV4ZXJjaXNlcywgZnVuY3Rpb24oZXhlcmNpc2Upe1xyXG5cdFx0XHRcdHZhciBvcHRpb24gPSAoXHJcblx0XHRcdFx0XHQ8b3B0aW9uIGtleT17TWF0aC5yYW5kb20oKX0gdmFsdWU9e2V4ZXJjaXNlfT57ZXhlcmNpc2V9PC9vcHRpb24+XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRleGVyY2lzZU9wdGlvbnMucHVzaChvcHRpb24pO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0XHR2YXIgZXhlcmNpc2VGb3JXb3Jrb3V0TGlzdCA9IFtdO1xyXG5cdFx0XHRfLmVhY2godGhpcy5zdGF0ZS5leGVyY2lzZUZvcldvcmtvdXRMaXN0LCBmdW5jdGlvbihleGVyY2lzZSl7XHJcblx0XHRcdFx0Ly8gVGhlIHNlcXVlbmNlIG9mIHRoZSAna2V5JyBhbmQgJ2V4ZXJjaXNlS2V5JyBwcm9wZXJ0aWVzIGlzIGltcG9ydGFudCBiZWNhdXNlIG9mIHRoZSBpbmNyZW1lbnRhdGlvblxyXG5cdFx0XHRcdHZhciBlbGVtZW50ID0gKFxyXG5cdFx0XHRcdFx0PEV4ZXJjaXNlRm9yV29ya291dCBrZXk9e2tleX0gZXhlcmNpc2VLZXk9e2tleSsrfSBleGVyY2lzZT17ZXhlcmNpc2V9IHJlbW92ZT17dGhhdC5yZW1vdmVFeGVyY2lzZUZyb21Xb3Jrb3V0fS8+XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRleGVyY2lzZUZvcldvcmtvdXRMaXN0LnB1c2goZWxlbWVudCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgd29ya291dFJlYWR5QnV0dG9uID0gbnVsbDtcclxuXHRcdFx0aWYodGhpcy5zdGF0ZS5leGVyY2lzZUZvcldvcmtvdXRMaXN0Lmxlbmd0aCA+IDApe1xyXG5cdFx0XHRcdHdvcmtvdXRSZWFkeUJ1dHRvbiA9IChcclxuXHRcdFx0XHRcdDxidXR0b24gb25DbGljaz17dGhpcy53b3Jrb3V0UmVhZHl9PlJlYWR5PC9idXR0b24+XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHQ8aDI+U2V0IFdvcmtvdXQ8L2gyPlxyXG5cdFx0XHRcdFx0e3dvcmtvdXRSZWFkeUJ1dHRvbn1cclxuXHRcdFx0XHRcdDxkaXY+e3RoaXMuc3RhdGUuc2VsZWN0ZWRFeGVyY2lzZX08L2Rpdj5cclxuXHRcdFx0XHRcdDxzZWxlY3Qgb25DaGFuZ2U9e3RoaXMuY2hhbmdlRXhlcmNpc2V9PlxyXG5cdFx0XHRcdFx0XHR7ZXhlcmNpc2VPcHRpb25zfVxyXG5cdFx0XHRcdFx0PC9zZWxlY3Q+XHJcblx0XHRcdFx0XHQ8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYWRkRXhlcmNpc2V9PkFkZCBleGVyY2lzZTwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0e2V4ZXJjaXNlRm9yV29ya291dExpc3R9XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0XHRlbHNle1xyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdDxoMj5Mb2FkaW5nLi4uPC9oMj5cclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBTZXRXb3Jrb3V0OyIsIi8qKiBAanN4IFJlYWN0LkRPTSAqL1xyXG5cclxudmFyIFN0b3B3YXRjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCl7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0czogMFxyXG5cdFx0fTtcclxuXHR9LFxyXG5cdHN0YXJ0OiBmdW5jdGlvbihyZXN0YXJ0KXtcclxuXHRcdGlmKHJlc3RhcnQpIHRoaXMuc3RhdGUudHMgPSAwO1xyXG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdFx0dGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XHJcblx0XHRcdHRoYXQuc2V0U3RhdGUoe1xyXG5cdFx0XHRcdHBoYXNlOiBcInJ1blwiLFxyXG5cdFx0XHRcdHRzOiB0aGF0LnN0YXRlLnRzICsgMTAwXHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgMTAwKTtcclxuXHRcdHRoaXMucGF1c2VkID0gZmFsc2U7XHJcblx0fSxcclxuXHRwYXVzZTogZnVuY3Rpb24oKXtcclxuXHRcdGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XHJcblx0XHR0aGlzLnBhdXNlZCA9IHRydWU7XHJcblx0XHR0aGlzLnByb3BzLmdldFRzKHRoaXMuc3RhdGUudHMpO1xyXG5cdH0sXHJcblx0aW50ZXJ2YWw6IDAsXHJcblx0cGF1c2VkOiBmYWxzZSxcclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCl7XHJcblx0XHRpZih0aGlzLnByb3BzLnBoYXNlID09PSBcImV4ZXJjaXNlXCIgJiYgKHRoaXMuc3RhdGUudHMgPT09IDAgfHwgdGhpcy5wYXVzZWQpKXtcclxuXHRcdFx0dGhpcy5zdGFydCh0aGlzLnBhdXNlZCk7XHJcblx0XHR9XHJcblx0XHRpZih0aGlzLnByb3BzLnBoYXNlID09PSBcInBhdXNlXCIpe1xyXG5cdFx0XHR0aGlzLnBhdXNlKCk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdDxwPnt0aGlzLnN0YXRlLnRzfTwvcD5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFN0b3B3YXRjaDsiLCIvKiogQGpzeCBSZWFjdC5ET00gKi9cclxuXHJcblxyXG52YXIgU3RvcHdhdGNoID0gcmVxdWlyZShcIi4vc3RvcHdhdGNoXCIpO1xyXG5cclxudmFyIFdvcmtvdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcblx0Z2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpe1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0d29ya291dDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIndvcmtvdXRcIikpLFxyXG5cdFx0XHRleGVyY2lzZTogMCxcclxuXHRcdFx0cGhhc2U6IFwiaW5pdFwiXHJcblx0XHR9O1xyXG5cdH0sXHJcblx0Y29udHJvbEJ1dHRvbkNsaWNrOiBmdW5jdGlvbigpe1xyXG5cdFx0aWYodGhpcy5zdGF0ZS5waGFzZSA9PT0gXCJpbml0XCIpe1xyXG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcclxuXHRcdFx0XHR3b3Jrb3V0OiB0aGlzLnN0YXRlLndvcmtvdXQsXHJcblx0XHRcdFx0ZXhlcmNpc2U6IHRoaXMuc3RhdGUuZXhlcmNpc2UsXHJcblx0XHRcdFx0cGhhc2U6IFwiZXhlcmNpc2VcIlxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYodGhpcy5zdGF0ZS5waGFzZSA9PT0gXCJleGVyY2lzZVwiKXtcclxuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0XHRcdFx0d29ya291dDogdGhpcy5zdGF0ZS53b3Jrb3V0LFxyXG5cdFx0XHRcdGV4ZXJjaXNlOiB0aGlzLnN0YXRlLmV4ZXJjaXNlLFxyXG5cdFx0XHRcdHBoYXNlOiBcInBhdXNlXCJcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmKHRoaXMuc3RhdGUucGhhc2UgPT09IFwicGF1c2VcIil7XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud29ya291dC5leGVyY2lzZXMubGVuZ3RoIC0gMSA+IHRoaXMuc3RhdGUuZXhlcmNpc2Upe1xyXG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xyXG5cdFx0XHRcdFx0d29ya291dDogdGhpcy5zdGF0ZS53b3Jrb3V0LFxyXG5cdFx0XHRcdFx0ZXhlcmNpc2U6IHRoaXMuc3RhdGUuZXhlcmNpc2UgKyAxLFxyXG5cdFx0XHRcdFx0cGhhc2U6IFwiZXhlcmNpc2VcIlxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2V7XHJcblx0XHRcdFx0dGhpcy5zZXRTdGF0ZSh7XHJcblx0XHRcdFx0XHR3b3Jrb3V0OiB0aGlzLnN0YXRlLndvcmtvdXQsXHJcblx0XHRcdFx0XHRleGVyY2lzZTogdGhpcy5zdGF0ZS5leGVyY2lzZSxcclxuXHRcdFx0XHRcdHBoYXNlOiBcImZpbmlzaFwiXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGVsc2UgaWYodGhpcy5zdGF0ZS5waGFzZSA9PT0gXCJmaW5pc2hcIil7XHJcblx0XHRcdGlmKHRoaXMuc3RhdGUud29ya291dC5leGVyY2lzZXMubGVuZ3RoICE9PSB0aGlzLnRzTGlzdC5sZW5ndGgpIHRocm93IG5ldyBFcnJvcihcImJhaiB2YW5cIik7XHJcblx0XHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMCwgbCA9IHRoaXMuc3RhdGUud29ya291dC5leGVyY2lzZXMubGVuZ3RoOyBpIDwgbDsgaSsrKXtcclxuXHRcdFx0XHR2YXIgZXhlcmNpc2UgPSB0aGlzLnN0YXRlLndvcmtvdXQuZXhlcmNpc2VzW2ldO1xyXG5cdFx0XHRcdGV4ZXJjaXNlLnRzID0gdGhpcy50c0xpc3RbaV07XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goZXhlcmNpc2UpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRnZXRTdG9wd2F0Y2hUczogZnVuY3Rpb24odHMpe1xyXG5cdFx0dGhpcy50c0xpc3QucHVzaCh0cyk7XHJcblx0XHRjb25zb2xlLmxvZyh0aGlzLnRzTGlzdCk7XHJcblx0fSxcclxuXHRnZXRDb250cm9sQnV0dG9uVGV4dDogZnVuY3Rpb24oKXtcclxuXHRcdHZhciBwaGFzZSA9IHRoaXMuc3RhdGUucGhhc2U7XHJcblx0XHRpZihwaGFzZSA9PT0gXCJpbml0XCIpIHJldHVybiBcIlN0YXJ0XCI7XHJcblx0XHRlbHNlIGlmKHBoYXNlID09PSBcImV4ZXJjaXNlXCIpIHJldHVybiBcIlJlYWR5XCI7XHJcblx0XHRlbHNlIGlmKHBoYXNlID09PSBcInBhdXNlXCIpIHJldHVybiBcIk5leHRcIjtcclxuXHRcdGVsc2UgaWYocGhhc2UgPT09IFwiZmluaXNoXCIpIHJldHVybiBcIkZpbmlzaFwiO1xyXG5cdH0sXHJcblx0dHNMaXN0OiBbXSxcclxuXHRyZW5kZXI6IGZ1bmN0aW9uKCl7XHJcblx0XHR2YXIgYWN0dWFsRXhlcmNpc2UgPSAoXHJcblx0XHRcdDxzdHJvbmc+YWN0dWFsOiB7dGhpcy5zdGF0ZS53b3Jrb3V0LmV4ZXJjaXNlc1t0aGlzLnN0YXRlLmV4ZXJjaXNlXS5uYW1lfSB7dGhpcy5zdGF0ZS53b3Jrb3V0LmV4ZXJjaXNlc1t0aGlzLnN0YXRlLmV4ZXJjaXNlXS53ZWlnaHR9a2c8L3N0cm9uZz5cclxuXHRcdCk7XHJcblx0XHR2YXIgbmV4dEV4ZXJjaXNlO1xyXG5cdFx0aWYodGhpcy5zdGF0ZS5leGVyY2lzZSAhPT0gdGhpcy5zdGF0ZS53b3Jrb3V0LmV4ZXJjaXNlcy5sZW5ndGggLSAxKXtcclxuXHRcdFx0bmV4dEV4ZXJjaXNlID0gKFxyXG5cdFx0XHRcdDxzdHJvbmc+bmV4dDoge3RoaXMuc3RhdGUud29ya291dC5leGVyY2lzZXNbdGhpcy5zdGF0ZS5leGVyY2lzZSArIDFdLm5hbWV9IHt0aGlzLnN0YXRlLndvcmtvdXQuZXhlcmNpc2VzW3RoaXMuc3RhdGUuZXhlcmNpc2VdLndlaWdodH1rZzwvc3Ryb25nPlxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGRpdj5cclxuXHRcdFx0XHQ8aDI+V29ya291dDwvaDI+XHJcblx0XHRcdFx0e2FjdHVhbEV4ZXJjaXNlfTxiciAvPlxyXG5cdFx0XHRcdHtuZXh0RXhlcmNpc2V9PGJyIC8+XHJcblx0XHRcdFx0PGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmNvbnRyb2xCdXR0b25DbGlja30+e3RoaXMuZ2V0Q29udHJvbEJ1dHRvblRleHQoKX08L2J1dHRvbj5cclxuXHRcdFx0XHQ8U3RvcHdhdGNoIHBoYXNlPXt0aGlzLnN0YXRlLnBoYXNlfSBnZXRUcz17dGhpcy5nZXRTdG9wd2F0Y2hUc30vPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gV29ya291dDsiLCJ2YXIgYXV0aCA9IHJlcXVpcmUoXCIuL2F1dGhcIik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRsb2c6IGZ1bmN0aW9uKHRleHQpe1xyXG5cdFx0Y29uc29sZS5sb2codGV4dCk7XHJcblx0fSxcclxuXHRnZXQ6IGZ1bmN0aW9uKHVybCwgc3VjY2Vzcyl7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0dHlwZTogJ0dFVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcIngtYXV0aC10b2tlblwiOiBhdXRoLmdldFRva2VuKCksXHJcblx0XHRcdFx0XCJ4LWF1dGgtdXNlcm5hbWVcIjogYXV0aC5nZXRVc2VybmFtZSgpXHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xyXG5cdFx0XHRcdHN1Y2Nlc3MocmVzdWx0KTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpLFxyXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycikge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKHN0YXR1cyk7XHJcblx0XHRcdFx0aWYoeGhyLnN0YXR1cyA+PSA0MDApIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYXV0aC5sb2dpblBhZ2U7XHJcblx0XHRcdH0uYmluZCh0aGlzKVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRwb3N0OiBmdW5jdGlvbih1cmwsIGRhdGEsIHN1Y2Nlc3Mpe1xyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiB1cmwsXHJcblx0XHRcdHR5cGU6ICdQT1NUJyxcclxuXHRcdFx0ZGF0YTogZGF0YSxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFwieC1hdXRoLXRva2VuXCI6IGF1dGguZ2V0VG9rZW4oKSxcclxuXHRcdFx0XHRcIngtYXV0aC11c2VybmFtZVwiOiBhdXRoLmdldFVzZXJuYW1lKClcclxuXHRcdFx0fSxcclxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XHJcblx0XHRcdFx0c3VjY2VzcyhyZXN1bHQpO1xyXG5cdFx0XHR9LmJpbmQodGhpcyksXHJcblx0XHRcdGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coc3RhdHVzKTtcclxuXHRcdFx0XHRpZih4aHIuc3RhdHVzID49IDQwMCkgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhdXRoLmxvZ2luUGFnZTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpXHJcblx0XHR9KTtcclxuXHR9XHJcbn07IiwidmFyIGF1dGggPSB7XHJcblx0bG9naW5QYWdlOiBcIi9sb2dpbi5odG1sXCIsXHJcblx0bG9nb3V0OiBmdW5jdGlvbihjYWxsYmFjayl7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6IFwiL2xvZ291dFwiLFxyXG5cdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHR1c2VybmFtZTogdGhpcy5nZXRVc2VybmFtZSgpXHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkge1xyXG5cdFx0XHRcdGRlbGV0ZSBsb2NhbFN0b3JhZ2UudG9rZW47XHJcblx0XHRcdFx0ZGVsZXRlIGxvY2FsU3RvcmFnZS51c2VybmFtZTtcclxuXHRcdFx0XHRjYWxsYmFjaygpO1xyXG5cdFx0XHR9LmJpbmQodGhpcyksXHJcblx0XHRcdGVycm9yOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyKSB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJlcnJvciB3aGlsZSBsb2dnaW50IG91dFwiKTtcclxuXHRcdFx0XHRkZWxldGUgbG9jYWxTdG9yYWdlLnRva2VuO1xyXG5cdFx0XHRcdGRlbGV0ZSBsb2NhbFN0b3JhZ2UudXNlcm5hbWU7XHJcblx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0fS5iaW5kKHRoaXMpXHJcblx0XHR9KTtcclxuXHR9LFxyXG5cdGF1dGhvcml6ZTogZnVuY3Rpb24oY2FsbGJhY2spe1xyXG5cdFx0aWYoIXRoaXMuZ2V0VG9rZW4oKSkge1xyXG5cdFx0XHRjYWxsYmFjayhmYWxzZSk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6IFwiL2F1dGhvcml6ZVwiLFxyXG5cdFx0XHR0eXBlOiAnR0VUJyxcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFwieC1hdXRoLXRva2VuXCI6IHRoaXMuZ2V0VG9rZW4oKSxcclxuXHRcdFx0XHRcIngtYXV0aC11c2VybmFtZVwiOiB0aGlzLmdldFVzZXJuYW1lKClcclxuXHRcdFx0fSxcclxuXHRcdFx0c3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7XHJcblx0XHRcdFx0Y2FsbGJhY2sodHJ1ZSk7XHJcblx0XHRcdH0uYmluZCh0aGlzKSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnIpIHtcclxuXHRcdFx0XHRjYWxsYmFjayhmYWxzZSk7XHJcblx0XHRcdH0uYmluZCh0aGlzKVxyXG5cdFx0fSk7XHJcblx0fSxcclxuXHRnZXRUb2tlbjogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UudG9rZW47XHJcblx0fSxcclxuXHRnZXRVc2VybmFtZTogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UudXNlcm5hbWU7XHJcblx0fSxcclxuXHRsb2dnZWRJbjogZnVuY3Rpb24oKXtcclxuXHRcdHJldHVybiB0aGlzLmdldFRva2VuKCk7XHJcblx0fSxcclxuXHRvbkNoYW5nZTogZnVuY3Rpb24oKXt9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGF1dGg7Il19
